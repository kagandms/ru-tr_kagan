<!-- Vercel Deployment Trigger v1 -->
<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#667eea">
    <meta name="description" content="RusÃ§a-TÃ¼rkÃ§e Kelime Ã‡alÄ±ÅŸma UygulamasÄ±">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>RusÃ§a-TÃ¼rkÃ§e Kelime</title>
    <link rel="apple-touch-icon" href="/icon-192.png">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ‡·ğŸ‡º</text></svg>">
    <link rel="apple-touch-icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ‡·ğŸ‡º</text></svg>">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <h1>ğŸ‡·ğŸ‡º ĞœĞ¾Ğ¹ ÑĞ»Ğ¾Ğ²Ğ°Ñ€ÑŒ / SÃ¶zlÃ¼ÄŸÃ¼m ğŸ‡¹ğŸ‡·</h1>
            <div class="header-actions">
                <!-- PWA Install Button (Hidden by default) -->
                <button id="install-btn" class="icon-btn" style="display: none;"
                    aria-label="UygulamayÄ± YÃ¼kle">â¬‡ï¸</button>
                <button id="settings-btn" class="icon-btn" aria-label="Ayarlar">âš™ï¸</button>
                <button id="favorites-list-btn" class="icon-btn" aria-label="Favoriler">â­</button>
                <button id="theme-toggle" class="icon-btn" aria-label="Tema DeÄŸiÅŸtir">ğŸŒ“</button>
            </div>
        </header>

        <!-- Streak & Progress Bar -->
        <div class="streak-bar">
            <div class="streak-info">
                <span class="streak-fire">ğŸ”¥</span>
                <span class="streak-count" id="streakCount">0</span>
                <span class="streak-label">gÃ¼n</span>
            </div>
            <div class="progress-container">
                <div class="progress-track">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <span class="progress-text" id="progressText">0/20</span>
            </div>
        </div>

        <!-- Main Menu -->
        <main id="mainMenu" class="main-menu">
            <div class="stats-bar">
                <div class="stat">
                    <span class="stat-value" id="totalWords">0</span>
                    <span class="stat-label">Kelime</span>
                </div>
                <div class="stat">
                    <span class="stat-value" id="masteredWords">0</span>
                    <span class="stat-label">Ã–ÄŸrenildi</span>
                </div>
                <div class="stat">
                    <span class="stat-value" id="accuracy">0%</span>
                    <span class="stat-label">DoÄŸruluk</span>
                </div>
            </div>

            <div class="mode-grid">
                <button class="mode-card" data-mode="daily">
                    <span class="mode-icon">ğŸ“…</span>
                    <span class="mode-title">GÃ¼nÃ¼n Kelimeleri</span>
                    <span class="mode-desc">Her gÃ¼n 5 yeni kelime</span>
                </button>
                <button class="mode-card" data-mode="flashcard">
                    <span class="mode-icon">ğŸ”„</span>
                    <span class="mode-title">Flashcard</span>
                    <span class="mode-desc">KartlarÄ± Ã§evirerek Ã¶ÄŸren</span>
                </button>
                <button class="mode-card" data-mode="quiz">
                    <span class="mode-icon">â“</span>
                    <span class="mode-title">Quiz</span>
                    <span class="mode-desc">Ã‡oktan seÃ§meli sorular</span>
                </button>

                <button class="mode-card" data-mode="synonyms">
                    <span class="mode-icon">â†”ï¸</span>
                    <span class="mode-title">EÅŸ/ZÄ±t Anlam</span>
                    <span class="mode-desc">ZÄ±t ve eÅŸ anlamlÄ±lar</span>
                </button>

                <button class="mode-card" data-mode="torfl">
                    <span class="mode-icon">ğŸ‡·ğŸ‡º</span>
                    <span class="mode-title">TORFL</span>
                    <span class="mode-desc">RusÃ§a SÄ±nav HazÄ±rlÄ±k</span>
                </button>
                <button class="mode-card" data-mode="reversequiz">
                    <span class="mode-icon">ğŸ”„</span>
                    <span class="mode-title">Tersine Quiz</span>
                    <span class="mode-desc">TÃ¼rkÃ§e â†’ RusÃ§a</span>
                </button>

                <button class="mode-card" data-mode="allwords">
                    <span class="mode-icon">ğŸ“š</span>
                    <span class="mode-title">TÃ¼m Kelimeler</span>
                    <span class="mode-desc">Kelime listesini gÃ¶rÃ¼ntÃ¼le</span>
                </button>
                <button class="mode-card" data-mode="categories">
                    <span class="mode-icon">ğŸ—‚ï¸</span>
                    <span class="mode-title">Kategoriler</span>
                    <span class="mode-desc">Kelimeleri Ã¼nite Ã¼nite Ã§alÄ±ÅŸ</span>
                </button>
            </div>
        </main>

        <!-- Flashcard Mode -->
        <section id="flashcardMode" class="mode-screen hidden">
            <div class="mode-header">
                <button class="back-btn" data-back>â† Geri</button>
                <h2>Flashcard</h2>
                <span class="progress-indicator">
                    <span id="flashcardCurrent">1</span>/<span id="flashcardTotal">0</span>
                </span>
            </div>
            <div class="flashcard-container">
                <div class="flashcard" id="flashcard">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            <p class="word" id="flashcardWord">Kelime</p>
                            <p class="example" id="flashcardExample">Ã–rnek cÃ¼mle</p>
                        </div>
                        <div class="flashcard-back">
                            <p class="word" id="flashcardTranslation">Ã‡eviri</p>
                            <p class="example" id="flashcardExampleTr">Ã–rnek Ã§eviri</p>
                        </div>
                    </div>
                </div>
                <p class="hint">KartÄ± Ã§evirmek iÃ§in dokun</p>
                <button class="favorite-btn" id="flashcardFavorite" aria-label="Favoriye ekle">â˜†</button>
            </div>
            <div class="ai-actions">
                <button class="ai-btn" id="flashcardExplain">ğŸ¤– AÃ§Ä±kla</button>
                <button class="ai-btn" id="flashcardGetExample">ğŸ’¡ Ã–rnek Al</button>
            </div>
            <div class="ai-result hidden" id="flashcardAiResult">
                <p id="flashcardAiText"></p>
            </div>
            <div class="flashcard-controls">
                <button class="control-btn wrong" id="flashcardWrong">âŒ Bilmiyorum</button>
                <button class="control-btn correct" id="flashcardCorrect">âœ… Biliyorum</button>
            </div>
            <div class="direction-toggle">
                <button class="dir-btn active" data-dir="ru-tr">ğŸ‡·ğŸ‡º â†’ ğŸ‡¹ğŸ‡·</button>
                <button class="dir-btn" data-dir="tr-ru">ğŸ‡¹ğŸ‡· â†’ ğŸ‡·ğŸ‡º</button>
            </div>
        </section>

        <!-- Quiz Mode -->
        <section id="quizMode" class="mode-screen hidden">
            <div class="mode-header">
                <button class="back-btn" data-back>â† Geri</button>
                <h2>Quiz</h2>
                <span class="progress-indicator">
                    <span id="quizScore">0</span> puan
                </span>
            </div>
            <div class="quiz-container">
                <div class="quiz-question">
                    <button class="favorite-btn" id="quizFavorite" aria-label="Favoriye ekle">â˜†</button>
                    <p class="question-word" id="quizWord">Kelime</p>
                    <p class="question-example" id="quizExample">Ã–rnek cÃ¼mle</p>
                </div>
                <div class="quiz-options" id="quizOptions">
                    <!-- Options will be generated dynamically -->
                </div>
            </div>
            <div class="quiz-feedback hidden" id="quizFeedback">
                <p id="quizFeedbackText"></p>
                <button class="next-btn" id="quizNext">Sonraki â†’</button>
            </div>
        </section>

        <!-- Categories Mode -->
        <section id="categoriesMode" class="mode-screen hidden">
            <div class="mode-header">
                <button class="back-btn" data-back>â† Geri</button>
                <h2>ğŸ—‚ï¸ Kategoriler (Ãœniteler)</h2>
            </div>

            <!-- Category Selection View -->
            <div id="categoriesLanding">
                <div class="category-grid" id="categoryGrid">
                    <!-- Categories will be populated here -->
                </div>
            </div>

            <!-- Category Detail View (List of words for a specific category) -->
            <div id="categoryDetailView" class="hidden">
                <div class="category-subview-header"
                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <button class="back-btn" id="categoryBackBtn">â† Kategorilere DÃ¶n</button>
                    <h3 id="categoryTitle" style="margin: 0; color: var(--text);">Kategori AdÄ±</h3>
                </div>

                <div class="category-actions" style="margin-bottom: 20px; text-align: center;">
                    <button class="modal-btn primary" id="categoryStudyBtn">Bu Ãœniteyi Ã‡alÄ±ÅŸ (Flashcard)</button>
                </div>

                <div class="words-list" id="categoryWordsList">
                    <!-- Word cards will go here -->
                </div>
            </div>
        </section>

        <!-- No Words Message -->
        <div id="noWordsMessage" class="no-words hidden">
            <p>ğŸ“š HenÃ¼z kelime eklenmemiÅŸ!</p>
            <p>Kelimeler data.js dosyasÄ±na eklenecek.</p>
        </div>

        <!-- Start NEW Modes -->

        <!-- Daily Words Mode -->
        <section id="dailyMode" class="mode-screen hidden">
            <div class="mode-header">
                <button class="back-btn" data-back>â† Geri</button>
                <h2>ğŸ“… GÃ¼nÃ¼n Kelimeleri</h2>
                <span class="progress-indicator" id="dailyDate">BugÃ¼n</span>
            </div>
            <div class="words-list" id="dailyWordsList">
                <!-- Daily words will be listed here -->
            </div>
            <div style="text-align: center; margin-top: 2rem;">
                <button class="modal-btn primary" id="dailyTestBtn">Test Ã‡Ã¶z</button>
            </div>
        </section>

        <!-- Synonyms Mode -->
        <section id="synonymsMode" class="mode-screen hidden">
            <div class="mode-header">
                <button class="back-btn" data-back>â† Geri</button>
                <h2>â†”ï¸ EÅŸ & ZÄ±t Anlam</h2>
                <span class="progress-indicator">
                    <span id="synonymsCurrent">1</span>/<span id="synonymsTotal">0</span>
                </span>
            </div>
            <div class="quiz-container">
                <div class="quiz-question">
                    <p class="question-word" id="synonymsWord">Kelime</p>
                    <p class="question-example" id="synonymsType">EÅŸ Anlam</p>
                </div>
                <div class="quiz-options" id="synonymsOptions"></div>
                <div class="quiz-feedback hidden" id="synonymsFeedback">
                    <p id="synonymsFeedbackText"></p>
                    <button class="next-btn" id="synonymsNext">Sonraki â†’</button>
                </div>
            </div>
        </section>

        <!-- TORFL Mode -->
        <section id="torflMode" class="mode-screen hidden">
            <div class="mode-header">
                <button class="back-btn" data-back>â† Geri</button>
                <h2>ğŸ‡·ğŸ‡º TORFL HazÄ±rlÄ±k</h2>
                <label for="torflUpload" class="icon-btn" style="font-size: 1.2rem; cursor: pointer;">ğŸ“¤</label>
                <input type="file" id="torflUpload" accept=".json,.txt" style="display: none;">
            </div>
            <div id="torflMenu">
                <div class="torfl-empty" id="torflEmpty">
                    <p>HenÃ¼z soru yÃ¼klenmedi.</p>
                    <p>Soru paketi yÃ¼klemek iÃ§in yukarÄ±daki butonu kullanÄ±n.</p>
                </div>
                <div class="torfl-list" id="torflList"></div>
            </div>
            <div id="torflQuiz" class="hidden">
                <div class="quiz-container">
                    <div class="quiz-question">
                        <p class="question-word" id="torflQuestion">Soru...</p>
                    </div>
                    <div class="quiz-options" id="torflOptions"></div>
                    <div class="quiz-feedback hidden" id="torflFeedback">
                        <p id="torflFeedbackText"></p>
                        <button class="next-btn" id="torflNext">Sonraki â†’</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- End NEW Modes -->


        <!-- Question Count Modal -->
        <div id="questionCountModal" class="modal hidden">
            <div class="modal-content">
                <h3>KaÃ§ soru Ã§alÄ±ÅŸmak istiyorsun?</h3>
                <div class="modal-buttons">
                    <button class="modal-btn" data-count="5">5</button>
                    <button class="modal-btn" data-count="10">10</button>
                    <button class="modal-btn" data-count="20">20</button>
                    <button class="modal-btn" data-count="50">50</button>
                    <button class="modal-btn" data-count="100">100</button>
                </div>
                <button id="questionCountCancel" class="modal-btn secondary">â† Geri</button>
            </div>
        </div>

        <!-- Settings Modal -->
        <div id="settingsModal" class="modal hidden">
            <div class="modal-content">
                <h3>âš™ï¸ Ayarlar</h3>
                <div class="settings-group">
                    <label>GÃ¼nlÃ¼k Hedef</label>
                    <div class="modal-buttons">
                        <button class="modal-btn goal-btn" data-goal="10">10</button>
                        <button class="modal-btn goal-btn" data-goal="20">20</button>
                        <button class="modal-btn goal-btn" data-goal="30">30</button>
                        <button class="modal-btn goal-btn" data-goal="50">50</button>
                    </div>
                </div>
                <button class="modal-btn primary" id="settingsClose">Tamam</button>
            </div>
        </div>

        <!-- All Words Screen -->
        <section id="allwordsMode" class="mode-screen hidden">
            <div class="mode-header">
                <button class="back-btn" data-back>â† Geri</button>
                <h2>â­ Favoriler</h2>
                <span class="progress-indicator">
                    <span id="allwordsCount">0</span> kelime
                </span>
            </div>
            <!-- Search Bar -->
            <div class="search-container">
                <div class="search-input-wrapper">
                    <span class="search-icon" aria-hidden="true">ğŸ”</span>
                    <input type="search" id="allwordsSearchInput" class="search-input"
                        placeholder="RusÃ§a veya TÃ¼rkÃ§e ara..." aria-label="Kelime ara" autocomplete="off" />
                    <button class="search-clear-btn" id="allwordsClearBtn" aria-label="AramayÄ± temizle">âœ•</button>
                </div>
            </div>
            <div class="words-list" id="wordsList">
                <!-- Words will be generated dynamically -->
            </div>
        </section>

        <!-- Hard Words Mode Screen -->
        <section id="hardwordsMode" class="mode-screen hidden">
            <div class="mode-header">
                <button class="back-btn" data-back>â† Geri</button>
                <h2>Zor Kelimeler</h2>
                <span class="progress-indicator">
                    <span id="hardwordsScore">0</span> puan
                </span>
            </div>
            <div id="hardwordsContainer" class="quiz-container">
                <div class="quiz-question">
                    <button class="favorite-btn" id="hardwordsFavorite" aria-label="Favoriye ekle">â˜†</button>
                    <p class="question-word" id="hardwordsWord">Kelime</p>
                    <p class="question-example" id="hardwordsExample">Ã–rnek cÃ¼mle</p>
                    <p class="hard-word-progress">
                        <span id="hardwordsCurrent">1</span>/<span id="hardwordsTotal">0</span>
                    </p>
                </div>
                <div class="quiz-options" id="hardwordsOptions">
                    <!-- Options will be generated dynamically -->
                </div>
                <div class="quiz-feedback hidden" id="hardwordsFeedback">
                    <p id="hardwordsFeedbackText"></p>
                    <button class="next-btn" id="hardwordsNext">Sonraki â†’</button>
                </div>
            </div>
            <div class="srs-empty hidden" id="hardwordsEmpty">
                <p>ğŸ‰ Harika!</p>
                <p>Åu an zor kelimen yok. AlÄ±ÅŸtÄ±rmalara devam et!</p>
            </div>
        </section>


        <section id="reversequizMode" class="mode-screen hidden">
            <div class="mode-header">
                <button class="back-btn" data-back>â† Geri</button>
                <h2>Tersine Quiz</h2>
                <span class="progress-indicator">
                    <span id="reversequizScore">0</span> puan
                </span>
            </div>
            <div class="quiz-container">
                <div class="quiz-question">
                    <button class="favorite-btn" id="reversequizFavorite" aria-label="Favoriye ekle">â˜†</button>
                    <p class="question-word" id="reversequizWord">TÃ¼rkÃ§e kelime</p>
                    <p class="question-example" id="reversequizHint">RusÃ§a karÅŸÄ±lÄ±ÄŸÄ±nÄ± seÃ§</p>
                    <p class="hard-word-progress">
                        <span id="reversequizCurrent">1</span>/<span id="reversequizTotal">0</span>
                    </p>
                </div>
                <div class="quiz-options" id="reversequizOptions"></div>
                <div class="quiz-feedback hidden" id="reversequizFeedback">
                    <p id="reversequizFeedbackText"></p>
                    <button class="next-btn" id="reversequizNext">Sonraki â†’</button>
                </div>
            </div>
        </section>



        <!-- Completion Modal -->
        <div id="completionModal" class="modal hidden">
            <div class="modal-content">
                <h3>ğŸ‰ Tebrikler!</h3>
                <p id="completionText">TÃ¼m sorularÄ± tamamladÄ±n!</p>
                <button class="modal-btn primary" id="completionClose">Tamam</button>
            </div>
        </div>
    </div>

    <script src="js/data.js"></script>
    <script src="js/favorites.js"></script>
    <script src="js/goals.js"></script>
    <script src="js/ai.js"></script>
    <script src="js/app.js"></script>
    <script src="js/flashcard.js"></script>
    <script src="js/quiz.js"></script>
    <script src="js/categories.js"></script>

    <script src="js/torfl.js"></script>
    <script src="js/daily.js"></script>
    <script src="js/reversequiz.js"></script>
    <script>
        // Register Service Worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js')
                .then(reg => console.log('SW registered'))
                .catch(err => console.log('SW registration failed', err));
        }
    </script>
</body>

</html>